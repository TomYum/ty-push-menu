!function(a,b,c,d){var e=function(b,c){this.elem=b,this.$elem=a(b),this.parent=a(b).parent(),this.options=c,this.metaData=this.$elem.data("tyPushMenu"),this.isVisiable=!1,this.colapsedPosition={x:0,y:0,z:0},this.expandedPosition={x:0,y:0,z:0},this.width=0,this.height=0,this.pushElement,this.activeSubmenu={},this.loaded=!0};e.prototype.expandedMenus=[],e.prototype.hideAll=function(){for(var a=0;a<e.prototype.expandedMenus.length;a++)e.prototype.expandedMenus[a].hideMenu()},e.prototype.defaults={menuTrigger:".ty-pushmenu-trigger",animationEngine:"css",position:"left",pushElement:"body",overlay:!0,lazyLoad:!1,isActive:!0},e.prototype.initContentWrapper=function(){a(".ty-pm-content-wrapper").length||a("body").addClass("ty-pm-content-wrapper").addClass("ty-pm-push-element"),this.pushElement=".ty-pm-content-wrapper"},e.prototype._removeClasses=function(){this.$wrapper.removeClass(),this.$elem.removeClass("ty-pushmenu-container")},e.prototype._addClasses=function(){this.$wrapper.addClass("ty-pushmenu-wrapper").addClass("ty-pm-"+this.config.position),this.$elem.addClass("ty-pushmenu-container")},e.prototype.init=function(){var b,c=this;this.config=a.extend({},this.defaults,this.options,this.metaData),this.config.lazyLoad&&(this.loaded=!1,this.$elem.append(a("<span>").addClass(this.config.lazyLoad.spinnerClass?this.config.lazyLoad.spinnerClass:"ty-simple-spinner"))),this.initContentWrapper(),this.$wrapper=b=a("<div>").appendTo(this.$elem.parent()).append(this.$elem),this.config.isActive&&(this._addClasses(),this._calcWrapper(),this.moveTo(b,this.colapsedPosition));var d=b.find(".inner-menu");return d.length&&(this.moveTo(b.find(".inner-menu"),this.colapsedPosition),this.$elem.find("li>a, li>span").click(function(b){return c.isActive?(b.preventDefault(),c.showInner(a(this).parent()),!1):void 0})),this.registrTrigger(),this.config.overlay&&this.initOverlay(),this},e.prototype._calcWrapper=function(){var a=this.$wrapper;console.log(a),this.height=1*a.outerHeight(),this.width=1*a.outerWidth(),"left"===this.config.position&&(this.colapsedPosition.x=-this.width,this.expandedPosition.x=0),"right"===this.config.position&&(this.colapsedPosition.x=this.width,this.expandedPosition.x=0),"top"===this.config.position&&(this.colapsedPosition.y=-this.height,this.expandedPosition.y=0),"bottom"===this.config.position&&(this.colapsedPosition.y=this.height,this.expandedPosition.y=0)},e.prototype.lazyLoad=function(){var b={},c=this.config.lazyLoad,d=this;b.url=c.url,b.type=c.method?c.method:"POST",b.dataType=c.dataType?c.dataType:"json",c.requestData&&(b.data=c.requestData),b.success=function(a){var b;if("json"===c.dataType)if(b=a,c.contentMap)for(var e in c.contentMap){var f=c.contentMap[e];if(!b[f]&&""!==b[f])return!1;b=b[f]}else b=a.content;d.$elem.html(b),d._calcWrapper(),d.moveTo(d.$wrapper,d.colapsedPosition),d.loaded=!0,d._show()},a.ajax(b)},e.prototype.moveTo=function(a,b){a&&a.css({transform:"translate3d("+b.x+"px,"+b.y+"px,"+b.z+"px)"})},e.prototype.showInner=function(a){var b=a.children(".inner-menu");if(b.length){this.createBackLink(b);var c=this.getTitleTag(b);c.html(a.children("a,span").html()),this.moveTo(b,{x:0,y:0,z:0})}},e.prototype.createBackLink=function(b){var c=this;b.children(".back-link").length||a("<span>").addClass("back-link").html("<<").prependTo(b).click(function(){c.goBack(b)})},e.prototype.goBack=function(b){this.moveTo(a(b),this.colapsedPosition)},e.prototype.getTitleTag=function(b){var c=b.children(".title");return c.length||(c=a("<span>").addClass("title").prependTo(b)),c},e.prototype.showMenu=function(){return!this.loaded&&this.config.lazyLoad?this.lazyLoad():this._show(),this},e.prototype._show=function(){var b=this.$wrapper,c=a(this.pushElement);if(b.addClass("animated"),c.addClass("animated"),!this.isVisiable){this.isVisiable=!0;var d=Object.create(this.colapsedPosition);"left"===this.config.position&&(d.x=this.width),"right"===this.config.position&&(d.x=-this.width),"top"===this.config.position&&(d.y=this.height),"bottom"===this.config.position&&(d.y=-this.height),this.moveTo(c,d),this.$elem.show(),this.$wrapper.show(),this.showOverlay(),this.expandedMenus.push(this)}return this.isVisiable},e.prototype.hideMenu=function(){if(this.isVisiable){this.isVisiable=!1;var b=a(this.pushElement),c=this.colapsedPosition;this.moveTo(b,{x:0,y:0,z:0}),this.moveTo(this.$wrapper,c),this.$wrapper.hide(600),this.hideOverlay()}return this},e.prototype.toggle=function(){return this.isVisiable?this.hideMenu():this.showMenu()},e.prototype.initOverlay=function(){var b=a("#ty-overlay"),c=this;b.length||(b=a("<div>").attr("id","ty-overlay").click(c.hideAll).appendTo(a("body")))},e.prototype.hideOverlay=function(){var b=a("#ty-overlay");b.length&&b.removeClass("show")},e.prototype.showOverlay=function(){var b=a("#ty-overlay");b.length&&b.addClass("show")},e.prototype.registrTrigger=function(b){b&&(this.config.menuTrigger=b);var d=this;a(c).on("click",this.config.menuTrigger,function(){d.toggle()})},e.prototype.disable=function(){this.isActive=!1,this._removeClasses(),this.$elem.show(),this.moveTo(this.$wrapper,{x:0,y:0,z:0})},e.prototype.enable=function(){this.isActive=!0,this._addClasses(),this._calcWrapper(this.$wrapper),this.moveTo(this.$wrapper,this.colapsedPosition)},a.fn.tyPushMenu=function(a){return new e(this,a).init()}}(jQuery,window,document);
//# sourceMappingURL=ty.pushmenu.map